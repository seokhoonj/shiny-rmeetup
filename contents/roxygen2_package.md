
# `roxygen2` 패키지

`roxygen2`는 R 패키지 개발 시 문서화를 쉽게 해주는 패키지입니다. 함수 코드 위에 주석을 달아 설명을 작성하면, `roxygen2`는 이를 자동으로 패키지의 문서화 파일(`.Rd` 파일)을 생성하여 R 패키지 문서의 표준 형식에 맞게 정리해 줍니다. 이로 인해 개발자는 함수 설명을 별도의 문서 파일로 관리할 필요 없이 코드 주석만으로 문서를 작성할 수 있습니다.

## `roxygen2` 패키지 사용법

### 1. `roxygen2` 패키지 설치 및 설정

먼저, `roxygen2` 패키지를 설치해야 합니다.

```r
install.packages("roxygen2")
```

그 다음으로, R 패키지 프로젝트에서 `roxygen2`를 사용할 수 있도록 설정합니다.

```r
# roxygen2를 패키지에 사용할 수 있도록 설정
usethis::use_roxygen_md()
```

이 명령은 `DESCRIPTION` 파일에서 `Roxygen` 관련 항목을 추가하고, `roxygen2`를 사용하여 문서를 관리할 수 있도록 설정합니다.

### 2. 함수 주석 작성

R 함수 위에 `roxygen2` 스타일로 주석을 작성하면 함수의 문서 파일을 자동으로 생성할 수 있습니다. `roxygen2` 주석은 `#'`으로 시작하며, 각 주석 블록은 특정 문서화 항목에 맞춰 작성됩니다.

예를 들어, 아래와 같은 R 함수가 있다고 가정합니다:

```r
#' 두 수를 더하는 함수
#'
#' 이 함수는 두 숫자를 받아 더한 결과를 반환합니다.
#'
#' @param x 첫 번째 숫자
#' @param y 두 번째 숫자
#' @return 두 수의 합
#' @examples
#' add_numbers(1, 2)
add_numbers <- function(x, y) {
  return(x + y)
}
```

- **`#'`**: `roxygen2` 주석의 시작을 나타냅니다.
- **`@param`**: 함수의 인수에 대한 설명을 제공합니다. 각 인수에 대해 하나씩 작성합니다.
- **`@return`**: 함수가 반환하는 값을 설명합니다.
- **`@examples`**: 함수 사용 예제를 제공합니다. 이 부분에 코드를 작성하면 문서에 포함됩니다.

### 3. 문서화 파일 생성

함수에 주석을 추가한 후, `roxygen2`를 사용하여 문서화 파일을 생성합니다. 다음 명령어를 실행하면 `man/` 디렉토리 안에 `.Rd` 파일들이 생성됩니다.

```r
# 문서화 생성
devtools::document()
```

이 명령은 함수의 주석을 기반으로 자동으로 문서 파일을 생성합니다. 생성된 문서 파일은 R 패키지 사용자들이 사용할 수 있는 함수의 도움말이 됩니다.

### 4. 문서화 주석 항목

`roxygen2`에서 자주 사용하는 주석 항목은 다음과 같습니다.

- **`@param`**: 함수의 인수를 설명합니다.
- **`@return`**: 함수가 반환하는 값을 설명합니다.
- **`@examples`**: 함수 사용 예제를 제공합니다.
- **`@export`**: 함수를 패키지의 외부 인터페이스로 내보낼 때 사용합니다. 이를 추가하면 함수가 패키지 설치 후 사용자에게 노출됩니다.
- **`@import`**: 패키지에서 다른 패키지를 가져올 때 사용합니다.
- **`@seealso`**: 관련된 함수나 문서로 연결할 때 사용합니다.
- **`@author`**: 함수의 저자를 명시합니다.
- **`@details`**: 함수에 대한 추가 세부 사항을 설명할 때 사용합니다.

### 5. 패키지에 여러 함수 문서화

패키지에 여러 함수를 정의하고 각각에 문서화를 추가할 수 있습니다. 각 함수에 대해 주석을 달아 문서화를 생성하고, 이 과정은 모든 함수에 대해 동일하게 적용됩니다.

예시:

```r
#' 더하기 함수
#'
#' 두 수를 더합니다.
#' @param a 첫 번째 숫자
#' @param b 두 번째 숫자
#' @return 두 수의 합
#' @export
add <- function(a, b) {
  return(a + b)
}

#' 빼기 함수
#'
#' 두 수를 뺍니다.
#' @param a 첫 번째 숫자
#' @param b 두 번째 숫자
#' @return 첫 번째 숫자에서 두 번째 숫자를 뺀 결과
#' @export
subtract <- function(a, b) {
  return(a - b)
}
```

위의 두 함수에 대한 문서가 `devtools::document()`를 통해 자동으로 생성됩니다.

### 6. `NAMESPACE` 파일 자동 생성

`roxygen2`는 `@export`, `@import` 등의 주석을 통해 `NAMESPACE` 파일을 자동으로 관리합니다. `NAMESPACE` 파일은 패키지의 함수와 의존성을 정의하는 데 사용되며, 함수가 사용자에게 노출되거나 다른 패키지와의 연동이 이루어집니다.

### 7. `@import` 및 `@importFrom`

다른 패키지의 함수를 패키지 내에서 사용할 때, `@import` 또는 `@importFrom` 태그를 사용하여 명시해야 합니다.

```r
#' @import dplyr
#' @importFrom ggplot2 ggplot aes
```

- **`@import dplyr`**: `dplyr` 패키지를 패키지 전반에 걸쳐 가져옵니다.
- **`@importFrom ggplot2 ggplot aes`**: `ggplot2` 패키지에서 `ggplot`과 `aes` 함수만 가져옵니다.

### 8. `README.md` 및 기타 파일 문서화

`roxygen2`는 R 함수 외에도 패키지의 `README.md`나 기타 설명 파일을 쉽게 관리할 수 있습니다. 예를 들어, `usethis::use_readme_md()`를 통해 `README.md` 파일을 생성한 후 이를 문서화 과정에 포함시킬 수 있습니다.

```r
usethis::use_readme_md()
```

### 9. 문서화와 테스트 자동화

`roxygen2`를 사용하면 문서화 작업이 단순해져 코드와 문서를 일관되게 유지할 수 있습니다. 특히 `devtools::document()` 명령어로 모든 문서를 자동으로 업데이트할 수 있어 편리합니다. 이 외에도 `testthat`과 연동하여 문서화와 테스트를 병행하면 더욱 신뢰성 있는 패키지를 개발할 수 있습니다.

## 요약

`roxygen2`는 R 패키지 개발 시 문서화를 간단하고 효율적으로 할 수 있도록 도와주는 도구입니다. 주석만으로 패키지의 문서를 관리할 수 있어 코드와 문서의 일관성을 유지할 수 있습니다. 주요 기능으로는 `@param`, `@return`, `@examples` 등의 태그를 통해 함수의 세부 정보를 자동으로 문서화하고, `devtools::document()` 명령을 사용해 패키지 문서를 쉽게 생성할 수 있습니다.

- **설치**: `install.packages("roxygen2")`
- **주석 태그**: `@param`, `@return`, `@export`, `@examples`, `@import` 등
- **문서 생성**: `devtools::document()`
- **패키지 외부 함수 사용**: `@import`, `@importFrom`
